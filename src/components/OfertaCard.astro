---
import type { Oferta } from '../lib/ofertas';
import { BriefcaseBusiness, MapPin, BadgeCheck } from 'lucide-astro';

const { oferta } = Astro.props as { oferta: Oferta };
---
<article class="group relative flex h-full flex-col gap-5 overflow-hidden rounded-[30px] border border-white/70 bg-white/80 p-6 shadow-deluxe backdrop-blur transition hover:-translate-y-1 hover:shadow-[0_50px_110px_-60px_rgba(33,73,182,0.55)]">
  <div class="pointer-events-none absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-primary-200 to-transparent"></div>
  <header class="flex items-start justify-between gap-4">
    <div class="space-y-1.5">
      <p class="inline-flex items-center gap-2 rounded-full border border-white/70 bg-primary-500/10 px-3 py-1 text-xs font-semibold text-primary-600 shadow-innerGlow">
        <BriefcaseBusiness class="h-4 w-4" />
        {oferta.tipoJornada}
      </p>
      <h3 class="font-display text-xl font-semibold text-slate-900 transition group-hover:text-primary-600">
        {oferta.titulo}
      </h3>
      <p class="flex items-center gap-2 text-sm text-slate-500">
        <BadgeCheck class="h-4 w-4 text-primary-500" />
        {oferta.empresa}
      </p>
    </div>
    <div class="rounded-2xl border border-white/70 bg-white/70 px-4 py-2 text-right text-xs font-semibold uppercase tracking-[0.3em] text-slate-400 shadow-innerGlow">
      {oferta.publicadaHace}
    </div>
  </header>
  <p class="text-sm text-slate-600">
    {oferta.descripcion}
  </p>
  <div class="flex flex-wrap items-center gap-2 text-xs font-medium text-primary-600">
    <MapPin class="h-4 w-4 text-secondary-500" />
    {oferta.comuna}
  </div>
  <div class="mt-auto flex flex-wrap items-center justify-between gap-3 text-sm text-slate-600">
    <div class="flex flex-wrap gap-2">
      {oferta.tags.map((tag) => (
        <span class="rounded-full border border-white/70 bg-white/70 px-3 py-1 text-xs text-slate-600 shadow-innerGlow" key={tag}>{tag}</span>
      ))}
    </div>
    {oferta.salario && (
      <span class="rounded-full bg-gradient-to-r from-secondary-200 via-secondary-100 to-white px-3 py-1 text-xs font-semibold text-secondary-700 shadow-innerGlow">
        {oferta.salario}
      </span>
    )}
  </div>
</article>
